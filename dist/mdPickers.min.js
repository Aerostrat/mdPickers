"use strict";!function(e,t){if("function"==typeof define&&define.amd)define(["moment"],t);else{if("object"!=typeof exports)return t(moment);module.exports=t(require("moment"))}}(this,function(e){function t(t,a,i,n,r,c){var o=this;this.date=e(r),this.minDate=c.minDate&&e(c.minDate).isValid()?e(c.minDate):null,this.maxDate=c.maxDate&&e(c.maxDate).isValid()?e(c.maxDate):null,this.displayFormat=c.displayFormat||"ddd, MMM DD",this.dateFilter=angular.isFunction(c.dateFilter)?c.dateFilter:null,this.confirmText=c.confirmText?c.confirmText:"OK",this.cancelText=c.cancelText?c.cancelText:"Cancel",this.selectingYear=!1,this.minDate&&this.maxDate&&this.maxDate.isBefore(this.minDate)&&(this.maxDate=e(this.minDate).add(1,"days")),this.date&&(this.minDate&&this.date.isBefore(this.minDate)&&(this.date=e(this.minDate)),this.maxDate&&this.date.isAfter(this.maxDate)&&(this.date=e(this.maxDate))),this.yearItems={currentIndex_:0,PAGE_SIZE:5,START:o.minDate?o.minDate.year():1900,END:o.maxDate?o.maxDate.year():0,getItemAtIndex:function(e){return this.currentIndex_<e&&(this.currentIndex_=e),this.START+e},getLength:function(){return Math.min(this.currentIndex_+Math.floor(this.PAGE_SIZE/2),Math.abs(this.START-this.END)+1)}},t.$mdMedia=i,t.year=this.date.year(),this.selectYear=function(e){o.date.year(e),t.year=e,o.selectingYear=!1,o.animate()},this.showYear=function(){o.yearTopIndex=o.date.year()-o.yearItems.START+Math.floor(o.yearItems.PAGE_SIZE/2),o.yearItems.currentIndex_=o.date.year()-o.yearItems.START+1,o.selectingYear=!0},this.showCalendar=function(){o.selectingYear=!1},this.cancel=function(){a.cancel()},this.confirm=function(){var t=this.date;this.minDate&&this.date.isBefore(this.minDate)&&(t=e(this.minDate)),this.maxDate&&this.date.isAfter(this.maxDate)&&(t=e(this.maxDate)),a.hide(t.toDate())},this.animate=function(){o.animating=!0,n(angular.noop).then(function(){o.animating=!1})}}function a(t){var a=this;this.dow=e.localeData().firstDayOfWeek(),this.weekDays=[].concat(e.weekdaysMin().slice(this.dow),e.weekdaysMin().slice(0,this.dow)),this.daysInMonth=[],this.getDaysInMonth=function(){var t=a.date.daysInMonth(),i=e(a.date).date(1).day()-this.dow;i<0&&(i=this.weekDays.length-1);for(var n=[],r=1;r<=i+t;r++){var c=null;r>i&&(c={value:r-i,enabled:a.isDayEnabled(e(a.date).date(r-i).toDate())}),n.push(c)}return n},this.isDayEnabled=function(e){return!(this.minDate&&!(this.minDate<=e)||this.maxDate&&!(this.maxDate>=e)||a.dateFilter&&a.dateFilter(e))},this.selectDate=function(e){a.date.date(e)},this.nextMonth=function(){a.date.add(1,"months")},this.prevMonth=function(){a.date.subtract(1,"months")},this.updateDaysInMonth=function(){a.daysInMonth=a.getDaysInMonth()},t.$watch(function(){return a.date.unix()},function(e,t){e&&e!==t&&a.updateDaysInMonth()}),a.updateDaysInMonth()}function i(t,a){return!t||angular.isDate(t)||e(t,a,!0).isValid()}function n(t,a,i){var i=e(i,"YYYY-MM-DD",!0),n=angular.isDate(t)?e(t):e(t,a,!0);return!t||angular.isDate(t)||!i.isValid()||n.isSameOrAfter(i)}function r(t,a,i){var i=e(i,"YYYY-MM-DD",!0),n=angular.isDate(t)?e(t):e(t,a,!0);return!t||angular.isDate(t)||!i.isValid()||n.isSameOrBefore(i)}function c(t,a,i){var n=angular.isDate(t)?e(t):e(t,a,!0);return!t||angular.isDate(t)||!angular.isFunction(i)||!i(n)}function o(t,a,i,n,r,c,o,m){var s=this;this.VIEW_HOURS=1,this.VIEW_MINUTES=2,this.currentView=this.VIEW_HOURS,this.time=e.utc(i),this.autoSwitch=!!n,this.ampm=!!r,this.confirmText=c?c:"OK",this.cancelText=o?o:"Cancel",this.hoursFormat=s.ampm?"h":"H",this.minutesFormat="mm",this.clockHours=parseInt(this.time.format(this.hoursFormat)),this.clockMinutes=parseInt(this.time.format(this.minutesFormat)),t.$mdMedia=m,this.switchView=function(){s.currentView=s.currentView==s.VIEW_HOURS?s.VIEW_MINUTES:s.VIEW_HOURS},this.setAM=function(){s.time.hours()>=12&&s.time.hour(s.time.hour()-12)},this.setPM=function(){s.time.hours()<12&&s.time.hour(s.time.hour()+12)},this.cancel=function(){a.cancel()},this.confirm=function(){a.hide(this.time.toDate())}}function m(e){var t="hours",a="minutes",i=this;this.STEP_DEG=30,this.steps=[],this.CLOCK_TYPES={hours:{range:i.ampm?12:24},minutes:{range:60}},this.getPointerStyle=function(){var e=1;switch(i.type){case t:e=i.ampm?12:24;break;case a:e=60}var n=Math.round(i.selected*(360/e))-180;return{"-webkit-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}},this.setTimeByDeg=function(e){e=e>=360?0:e;var n=0;switch(i.type){case t:n=i.ampm?12:24;break;case a:n=60}i.setTime(Math.round(n/360*e))},this.setTime=function(e,n){switch(this.selected=e,i.type){case t:i.ampm&&"PM"==i.time.format("A")&&(e+=12),this.time.hours(e);break;case a:e>59&&(e-=60),this.time.minutes(e)}},this.init=function(){switch(i.type=i.type||"hours",i.type){case t:for(var e=i.ampm?1:2,n=i.ampm?12:23,r=e;r<=n;r+=e)i.steps.push(r);i.ampm||i.steps.push(0),i.selected=i.time.hours()||0,i.ampm&&i.selected>12&&(i.selected-=12);break;case a:for(var r=5;r<=55;r+=5)i.steps.push(r);i.steps.push(0),i.selected=i.time.minutes()||0}},this.init()}var s=angular.module("mdPickers",["ngMaterial","ngAnimate","ngAria"]);return s.config(["$mdIconProvider","mdpIconsRegistry",function(e,t){angular.forEach(t,function(t,a){e.icon(t.id,t.url)})}]),s.run(["$templateCache","mdpIconsRegistry",function(e,t){angular.forEach(t,function(t,a){e.put(t.url,t.svg)})}]),s.constant("mdpIconsRegistry",[{id:"mdp-chevron-left",url:"mdp-chevron-left.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'},{id:"mdp-chevron-right",url:"mdp-chevron-right.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'},{id:"mdp-access-time",url:"mdp-access-time.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M0 0h24v24H0z" fill="none"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>'},{id:"mdp-event",url:"mdp-event.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}]),s.directive("ngMessage",["$mdUtil",function(e){return{restrict:"EA",priority:101,compile:function(t){var a=e.getClosest(t,"mdp-time-picker",!0)||e.getClosest(t,"mdp-date-picker",!0);if(a)return t.toggleClass("md-input-message-animation",!0),{}}}}]),s.provider("$mdpDatePicker",function(){var e="ddd, MMM DD";this.$get=["$mdDialog",function(a){var i=function(i,n){return angular.isDate(i)||(i=Date.now()),angular.isObject(n)||(n={}),n.displayFormat=e,a.show({controller:["$scope","$mdDialog","$mdMedia","$timeout","currentDate","options",t],controllerAs:"datepicker",clickOutsideToClose:!0,template:'<md-dialog aria-label="" class="mdp-datepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content layout="row" layout-wrap><div layout="column" layout-align="start center"><md-toolbar layout-align="start start" flex class="mdp-datepicker-date-wrapper md-hue-1 md-primary" layout="column"><span class="mdp-datepicker-year" ng-click="datepicker.showYear()" ng-class="{ \'active\': datepicker.selectingYear }">{{ datepicker.date.format(\'YYYY\') }}</span><span class="mdp-datepicker-date" ng-click="datepicker.showCalendar()" ng-class="{ \'active\': !datepicker.selectingYear }">{{ datepicker.date.format(datepicker.displayFormat) }}</span> </md-toolbar></div><div><div class="mdp-datepicker-select-year mdp-animation-zoom" layout="column" layout-align="center start" ng-if="datepicker.selectingYear"><md-virtual-repeat-container md-auto-shrink md-top-index="datepicker.yearTopIndex"><div flex md-virtual-repeat="item in datepicker.yearItems" md-on-demand class="repeated-year"><span class="md-button" ng-click="datepicker.selectYear(item)" md-ink-ripple ng-class="{ \'md-primary current\': item == year }">{{ item }}</span></div></md-virtual-repeat-container></div><mdp-calendar ng-if="!datepicker.selectingYear" class="mdp-animation-zoom" date="datepicker.date" min-date="datepicker.minDate" date-filter="datepicker.dateFilter" max-date="datepicker.maxDate"></mdp-calendar><md-dialog-actions layout="row"><span flex></span><md-button ng-click="datepicker.cancel()" aria-label="{{datepicker.cancelText}}">{{datepicker.cancelText}}</md-button><md-button ng-click="datepicker.confirm()" class="md-primary" aria-label="{{datepicker.confirmText}}">{{datepicker.confirmText}}</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>',targetEvent:n.targetEvent,locals:{currentDate:i,options:n},skipHide:!0})};return i}]}),s.directive("mdpCalendar",["$animate",function(e){return{restrict:"E",bindToController:{date:"=",minDate:"=",maxDate:"=",dateFilter:"="},template:'<div class="mdp-calendar"><div layout="row" layout-align="space-between center"><md-button aria-label="previous month" class="md-icon-button" ng-click="calendar.prevMonth()"><md-icon md-svg-icon="mdp-chevron-left"></md-icon></md-button><div class="mdp-calendar-monthyear" ng-show="!calendar.animating">{{ calendar.date.format("MMMM YYYY") }}</div><md-button aria-label="next month" class="md-icon-button" ng-click="calendar.nextMonth()"><md-icon md-svg-icon="mdp-chevron-right"></md-icon></md-button></div><div layout="row" layout-align="space-around center" class="mdp-calendar-week-days" ng-show="!calendar.animating"><div layout layout-align="center center" ng-repeat="d in calendar.weekDays track by $index">{{ d }}</div></div><div layout="row" layout-align="start center" layout-wrap class="mdp-calendar-days" ng-class="{ \'mdp-animate-next\': calendar.animating }" ng-show="!calendar.animating" md-swipe-left="calendar.nextMonth()" md-swipe-right="calendar.prevMonth()"><div layout layout-align="center center" ng-repeat-start="day in calendar.daysInMonth track by $index" ng-class="{ \'mdp-day-placeholder\': !day }"><md-button class="md-icon-button md-raised" aria-label="Select day" ng-if="day" ng-class="{ \'md-accent\': calendar.date.date() == day.value }" ng-click="calendar.selectDate(day.value)" ng-disabled="!day.enabled">{{ day.value }}</md-button></div><div flex="100" ng-if="($index + 1) % 7 == 0" ng-repeat-end></div></div></div>',controller:["$scope",a],controllerAs:"calendar",link:function(t,a,i,n){var r=[a[0].querySelector(".mdp-calendar-week-days"),a[0].querySelector(".mdp-calendar-days"),a[0].querySelector(".mdp-calendar-monthyear")].map(function(e){return angular.element(e)});t.$watch(function(){return n.date.format("YYYYMM")},function(t,a){var i=null;if(t>a?i="mdp-animate-next":t<a&&(i="mdp-animate-prev"),i)for(var n in r)r[n].addClass(i),e.removeClass(r[n],i)})}}}]),s.directive("mdpDatePicker",["$mdpDatePicker","$timeout",function(t,a){return{restrict:"E",require:"ngModel",transclude:!0,template:function(e,t){var a=angular.isDefined(t.mdpNoFloat),i=angular.isDefined(t.mdpPlaceholder)?t.mdpPlaceholder:"",n=!!angular.isDefined(t.mdpOpenOnClick);return'<div layout layout-align="start start"><md-button'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+' class="md-icon-button" ng-click="showPicker($event)"><md-icon md-svg-icon="mdp-event"></md-icon></md-button><md-input-container'+(a?" md-no-float":"")+' md-is-error="isError()"><input type="text"'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+' aria-label="'+i+'" placeholder="'+i+'"'+(n?' ng-click="showPicker($event)" ':"")+" /></md-input-container></div>"},scope:{minDate:"=mdpMinDate",maxDate:"=mdpMaxDate",dateFilter:"=mdpDateFilter",dateFormat:"@mdpFormat",placeholder:"@mdpPlaceholder",noFloat:"=mdpNoFloat",openOnClick:"=mdpOpenOnClick",disabled:"=?mdpDisabled",confirmText:"@mdpConfirmText",cancelText:"@mdpCancelText"},link:{pre:function(e,t,a,i,n){},post:function(a,o,m,s,d){function l(e){h[0].value=e,g.setHasValue(!s.$isEmpty(e))}function u(t){var i=e(t,angular.isDate(t)?null:a.dateFormat,!0),n=i.format(a.dateFormat);i.isValid()?(l(n),s.$setViewValue(n)):(l(t),s.$setViewValue(t)),!s.$pristine&&v.hasClass("md-auto-hide")&&f.hasClass("md-input-invalid")&&v.removeClass("md-auto-hide"),s.$render()}function p(e){e.target.value!==s.$viewVaue&&u(e.target.value)}var h=angular.element(o[0].querySelector("input")),f=angular.element(o[0].querySelector("md-input-container")),g=f.controller("mdInputContainer");d(function(e){f.append(e)});var v=angular.element(f[0].querySelector("[ng-messages]"));a.dateFormat=a.dateFormat||"YYYY-MM-DD",a.model=s,a.confirmText=a.confirmText?a.confirmText:"OK",a.cancelText=a.cancelText?a.cancelText:"Cancel",a.isError=function(){return!s.$pristine&&!!s.$invalid},s.$formatters.unshift(function(t){var i=angular.isDate(t)&&e(t);l(i&&i.isValid()?i.format(a.dateFormat):null)}),s.$validators.format=function(e,t){return i(t,a.dateFormat)},s.$validators.minDate=function(e,t){return n(t,a.dateFormat,a.minDate)},s.$validators.maxDate=function(e,t){return r(t,a.dateFormat,a.maxDate)},s.$validators.filter=function(e,t){return c(t,a.dateFormat,a.dateFilter)},s.$validators.required=function(e,t){return angular.isUndefined(m.required)||!s.$isEmpty(e)||!s.$isEmpty(t)},s.$parsers.unshift(function(t){var i=e(t,a.dateFormat,!0);if(i.isValid()){if(angular.isDate(s.$modelValue)){var n=e(s.$modelValue);n.year(i.year()),n.month(i.month()),n.date(i.date()),i=n}return i.toDate()}return null}),a.showPicker=function(e){t(s.$modelValue,{minDate:a.minDate,maxDate:a.maxDate,dateFilter:a.dateFilter,targetEvent:e,confirmText:a.confirmText,cancelText:a.cancelText}).then(u)},h.on("reset input blur",p),a.$on("$destroy",function(){h.off("reset input blur",p)})}}}}]),s.directive("mdpDatePicker",["$mdpDatePicker","$timeout",function(t,a){return{restrict:"A",require:"ngModel",scope:{minDate:"@min",maxDate:"@max",dateFilter:"=mdpDateFilter",dateFormat:"@mdpFormat",confirmText:"@mdpConfirmText",cancelText:"@mdpCancelText"},link:function(a,o,m,s,d){function l(i){t(s.$modelValue,{minDate:a.minDate,maxDate:a.maxDate,dateFilter:a.dateFilter,targetEvent:i,confirmText:a.confirmText,cancelText:a.cancelText}).then(function(t){s.$setViewValue(e(t).format(a.format)),s.$render()})}a.dateFormat=a.dateFormat||"YYYY-MM-DD",a.confirmText=a.confirmText,a.cancelText=a.cancelText,s.$validators.format=function(e,t){return i(t,a.format)},s.$validators.minDate=function(e,t){return n(t,a.format,a.minDate)},s.$validators.maxDate=function(e,t){return r(t,a.format,a.maxDate)},s.$validators.filter=function(e,t){return c(t,a.format,a.dateFilter)},o.on("click",l),a.$on("$destroy",function(){o.off("click",l)})}}}]),s.directive("mdpClock",["$animate","$timeout",function(e,t){return{restrict:"E",bindToController:{type:"@?",time:"=",autoSwitch:"=?",ampm:"=?"},replace:!0,template:'<div class="mdp-clock"><div class="mdp-clock-container"><md-toolbar class="mdp-clock-center md-primary"></md-toolbar><md-toolbar ng-style="clock.getPointerStyle()" class="mdp-pointer md-primary"><span class="mdp-clock-selected md-button md-raised md-primary"></span></md-toolbar><md-button ng-class="{ \'md-primary\': clock.selected == step }" class="md-icon-button md-raised mdp-clock-deg{{ ::(clock.STEP_DEG * ($index + 1)) }}" ng-repeat="step in clock.steps" ng-click="clock.setTime(step)">{{ step }}</md-button></div></div>',controller:["$scope",m],controllerAs:"clock",link:function(e,a,i,n){var r=(angular.element(a[0].querySelector(".mdp-pointer")),e.$parent.timepicker),c=function(e){var a=e.currentTarget.getClientRects()[0],i=e.currentTarget.offsetWidth/2-(e.pageX-a.left),c=e.pageY-a.top-e.currentTarget.offsetHeight/2,o=Math.round(Math.atan2(i,c)*(180/Math.PI));t(function(){n.setTimeByDeg(o+180),n.autoSwitch&&["mouseup","click"].indexOf(e.type)!==-1&&r&&r.switchView()})};a.on("mousedown",function(){a.on("mousemove",c)}),a.on("mouseup",function(e){a.off("mousemove")}),a.on("click",c),e.$on("$destroy",function(){a.off("click",c),a.off("mousemove",c)})}}}]),s.provider("$mdpTimePicker",function(){this.$get=["$mdDialog",function(e){var t=function(t,a){return angular.isDate(t)||(t=Date.now()),angular.isObject(a)||(a={}),e.show({controller:["$scope","$mdDialog","time","autoSwitch","ampm","confirmText","cancelText","$mdMedia",o],controllerAs:"timepicker",clickOutsideToClose:!0,template:'<md-dialog aria-label="" class="mdp-timepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content layout-gt-xs="row" layout-wrap><md-toolbar layout-gt-xs="column" layout-xs="row" layout-align="center center" flex class="mdp-timepicker-time md-hue-1 md-primary"><div class="mdp-timepicker-selected-time"><span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_HOURS }" ng-click="timepicker.currentView = timepicker.VIEW_HOURS">{{ timepicker.time.format(timepicker.hoursFormat) }}</span>:<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_MINUTES }" ng-click="timepicker.currentView = timepicker.VIEW_MINUTES">{{ timepicker.time.format(timepicker.minutesFormat) }}</span></div><div layout="column" ng-show="timepicker.ampm" class="mdp-timepicker-selected-ampm"><span ng-click="timepicker.setAM()" ng-class="{ \'active\': timepicker.time.hours() < 12 }">AM</span><span ng-click="timepicker.setPM()" ng-class="{ \'active\': timepicker.time.hours() >= 12 }">PM</span></div></md-toolbar><div><div class="mdp-clock-switch-container" ng-switch="timepicker.currentView" layout layout-align="center center"><mdp-clock class="mdp-animation-zoom" ampm="timepicker.ampm" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="hours" ng-switch-when="1"></mdp-clock><mdp-clock class="mdp-animation-zoom" ampm="timepicker.ampm" auto-switch="timepicker.autoSwitch" time="timepicker.time" type="minutes" ng-switch-when="2"></mdp-clock></div><md-dialog-actions layout="row"><span flex></span><md-button ng-click="timepicker.cancel()" aria-label="{{timepicker.cancelText}}">{{timepicker.cancelText}}</md-button><md-button ng-click="timepicker.confirm()" class="md-primary" aria-label="{{timepicker.confirmText}}">{{timepicker.confirmText}}</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>',targetEvent:a.targetEvent,locals:{time:t,autoSwitch:a.autoSwitch,ampm:a.ampm,confirmText:a.confirmText,cancelText:a.cancelText},skipHide:!0})};return t}]}),s.directive("mdpTimePicker",["$mdpTimePicker","$timeout",function(t,a){return{restrict:"E",require:"ngModel",transclude:!0,template:function(e,t){var a=angular.isDefined(t.mdpNoFloat),i=angular.isDefined(t.mdpPlaceholder)?t.mdpPlaceholder:"",n=!!angular.isDefined(t.mdpOpenOnClick);return'<div layout layout-align="start start"><md-button class="md-icon-button" ng-click="showPicker($event)"'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+'><md-icon md-svg-icon="mdp-access-time"></md-icon></md-button><md-input-container'+(a?" md-no-float":"")+' md-is-error="isError()"><input type="{{ ::type }}"'+(angular.isDefined(t.mdpDisabled)?' ng-disabled="disabled"':"")+' aria-label="'+i+'" placeholder="'+i+'"'+(n?' ng-click="showPicker($event)" ':"")+" /></md-input-container></div>"},scope:{timeFormat:"@mdpFormat",placeholder:"@mdpPlaceholder",autoSwitch:"=?mdpAutoSwitch",disabled:"=?mdpDisabled",ampm:"=?mdpAmpm",confirmText:"@mdpConfirmText",cancelText:"@mdpCancelText"},link:function(a,i,n,r,c){function o(e){d[0].value=e,u.setHasValue(!r.$isEmpty(e))}function m(t){var i=e.utc(t,angular.isDate(t)?null:a.timeFormat,!0),n=i.format(a.timeFormat);i.isValid()?(o(n),r.$setViewValue(n)):(o(t),r.$setViewValue(t)),!r.$pristine&&p.hasClass("md-auto-hide")&&l.hasClass("md-input-invalid")&&p.removeClass("md-auto-hide"),r.$render()}function s(e){e.target.value!==r.$viewVaue&&m(e.target.value)}var d=angular.element(i[0].querySelector("input")),l=angular.element(i[0].querySelector("md-input-container")),u=l.controller("mdInputContainer");c(function(e){l.append(e)});var p=angular.element(l[0].querySelector("[ng-messages]"));a.type=a.timeFormat?"text":"time",a.timeFormat=a.timeFormat||"HH:mm",a.autoSwitch=a.autoSwitch||!1,a.confirmText=a.confirmText?a.confirmText:"OK",a.cancelText=a.cancelText?a.cancelText:"Cancel",a.$watch(function(){return r.$error},function(e,t){u.setInvalid(!r.$pristine&&!!Object.keys(r.$error).length)},!0),r.$formatters.unshift(function(t){var i=angular.isDate(t)&&e.utc(t);o(i&&i.isValid()?i.format(a.timeFormat):null)}),r.$validators.format=function(t,i){return!i||angular.isDate(i)||e.utc(i,a.timeFormat,!0).isValid()},r.$validators.required=function(e,t){return angular.isUndefined(n.required)||!r.$isEmpty(e)||!r.$isEmpty(t)},r.$parsers.unshift(function(t){var i=e.utc(t,a.timeFormat,!0);if(i.isValid()){if(angular.isDate(r.$modelValue)){var n=e.utc(r.$modelValue);n.minutes(i.minutes()),n.hours(i.hours()),n.seconds(i.seconds()),i=n}return i.toDate()}return null}),a.showPicker=function(e){t(r.$modelValue,{targetEvent:e,autoSwitch:a.autoSwitch,ampm:a.ampm,confirmText:a.confirmText,cancelText:a.cancelText}).then(function(e){m(e,!0)})},d.on("reset input blur",s),a.$on("$destroy",function(){d.off("reset input blur",s)})}}}]),s.directive("mdpTimePicker",["$mdpTimePicker","$timeout",function(t,a){return{restrict:"A",require:"ngModel",scope:{timeFormat:"@mdpFormat",autoSwitch:"=?mdpAutoSwitch",ampm:"=?mdpAmpm",confirmText:"@mdpConfirmText",cancelText:"@mdpCancelText"},link:function(a,i,n,r,c){function o(i){t(r.$modelValue,{targetEvent:i,autoSwitch:a.autoSwitch,ampm:a.ampm,confirmText:a.confirmText,cancelText:a.cancelText}).then(function(t){r.$setViewValue(e.utc(t).format(a.format)),r.$render()})}a.format=a.format||"HH:mm",a.confirmText=a.confirmText,a.cancelText=a.cancelText,i.on("click",o),a.$on("$destroy",function(){i.off("click",o)})}}}]),s});
//# sourceMappingURL=mdPickers.min.js.map
